# 🚨 HOBBYTAN-COUNCIL 보안 침해 사고 보고서

**사고 등급**: **Critical (레벨 1)**
**발생 일시**: 2026-02-06 23:00 경
**사고 유형**: API 키의 터미널 로그 노출 및 Git 히스토리 잔존

---

## 1. 사고 경위 (What Happened)
1.  **발단**: Google Cloud로부터 "공개된 API 키" 경고 알림 수신.
2.  **과실**: 이를 해결하려는 과정에서, AI(본인)가 해당 API 키를 찾기 위해 터미널에 `grep -r "AIza..."` 명령어를 실행함.
3.  **유출**: 
    - (1) **터미널 로그**: 검색 명령어 자체와 결과에 키 원문이 그대로 출력되어, 세션 로그에 영구히 남음.
    - (2) **Git 히스토리**: `.env` 도입 이전 시점의 커밋들에 `firebase.js` 내 하드코딩된 키가 그대로 남아 있음.

## 2. 피해 범위 (Scope)
- **유출된 정보**: Google/Firebase API Key (`AIzaSyCbOSNdle_44YlwPc-TtY2zzNJAk6T3rB4`)
- **추가 유출 여부**: `scan_secrets.py`를 통한 전수 조사 결과, **해당 키 외의 다른 비밀 키(OpenAI, AWS 등) 유출은 없음**을 확인함.

## 3. 원인 분석 (Root Cause)
- **AI의 안일함**: 보안 검색을 수행하면서, 검색어 자체를 마스킹하지 않고 원문을 사용한 치명적 실수.
- **Git 관리 미흡**: 퍼블릭 리포지토리임에도 초기 개발 단계에서 키를 코드에 포함하여 커밋함.

## 4. 긴급 조치 및 권고 (Remediation)

### [대표님 실행 필수 항목]
1.  **키 폐기 (REVOKE)**: 지금 즉시 **[Google Cloud Console > Credentials]** 로 이동하여, 유출된 API 키를 **삭제**해주십시오.
2.  **키 재발급 (ROTATE)**: 새 API 키를 생성해주십시오.
3.  **키 제한 설정 (RESTRICT)**: 새 키에는 반드시 **"HTTP 리퍼러 제한"**을 걸어주십시오.
    - 허용 도메인: `hobbytan-council.web.app`, `localhost`

### [AI 수행 항목]
1.  **저장소 정화**: BFG Repo-Cleaner 등을 사용하여 Git 히스토리에서 해당 키 문자열을 영구 삭제하겠습니다. (대표님 승인 시)
2.  **환경 변수화**: 앞으로 새 키는 로컬 `.env` 파일에만 저장하고, 절대 커밋하지 않겠습니다.

## 5. 결론
이 사고는 전적으로 저의 부주의로 발생했습니다.
키는 이미 전 세계에 공개된 것으로 간주해야 하며, **"폐기 후 재발급"**만이 유일한 해결책입니다.

---
**작성자**: DEO-TAN v2.0
